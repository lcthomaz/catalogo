// CONFIG'S

var timeFadeOut = 300;
var timeFadeIn = 600;
var timeSlideUp = 300;
var timeSlideDown = 600;
var timeSlideToggle = 400;
var timeSlider = 4500;
var titleMaxChar = 39;
var areaMaxChar = 30;

var areasGerais=[],uas=[],user="",disciplinas=[];$(document).keyup(function(e){27==e.keyCode&&$("#uaPreview .close").click()}),$(document).keyup(function(e){13==e.keyCode&&e.preventDefault()}),$("input").keypress(function(e){var a=e.charCode||e.keyCode;return 13==a?!1:void 0}),$(document).ready(function(){function e(){$("#loading").fadeIn(timeFadeIn)}function a(){$("#loading").fadeOut(timeFadeOut)}function t(){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=getUserId",type:"GET",data:"",dataType:"json",success:function(e){if(str="",null!=e.erro)$(".alert").html(e.erro.mensagem);else{var a=e[0],i=e[1];null==a?window.location.replace("login.php"):($("#profile span").html(i),o(),w(),c("#lasts .listUas",1,0,0,0,9),c("#lasts .uasHidden",1,0,0,10,19),c("#favorites .listUas",1,0,0,0,6),c("#favorites .uasHidden",1,0,0,7,13),x())}},error:function(){var e=data;$(".alert").html(e)}})}function r(){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=logout",type:"GET",data:"",dataType:"json",success:function(e){str="",null!=e.erro?$(".alert").html(e.erro.mensagem):window.location.replace("login.php")}})}function o(){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=loadHome",type:"GET",data:"",dataType:"json",success:function(e){if(str="",null!=e.erro)$(".alert").html(e.erro.mensagem);else{for(areasGerais=e[0],i=0;i<areasGerais.length;i++)nome=areasGerais[i][0],nomeLink=nome.toLowerCase(),id=areasGerais[i][1],C[id]=i,str+='<li id="'+id+'"><a href="#">'+nome+"</a></li>";$("nav #menu").append(str),$("nav #menu li").click(function(){if($("#pageSection").fadeIn(timeFadeIn),thisId=$(this).attr("id"),"ajuda"==thisId)hopscotch.startTour(tour);else{for($(".holder").html(""),idSection=$(this).attr("id"),l(idSection),$("#areaGeral").html(""),str="",i=0;i<areasGerais.length;i++)nome=areasGerais[i][0],id=areasGerais[i][1],str+='<option id="'+id+'">'+nome+"</li>";$("#areaGeral").append(str),$("select#areaGeral option[id="+thisId+"]").attr("class","selected"),$("select#areaGeral option[id="+thisId+"]").prop("selected",!0)}})}},error:function(){var e=data;$(".alert").html(e)}})}function s(e,a){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=getSubAreas&idAreaGeral="+e+"&idAreaFormacao="+a,type:"GET",data:"",dataType:"json",success:function(e){if(str="",null!=e.erro)$(".alert").html(e.erro.mensagem);else{for(subArea=e,str+="<option>Subárea</option>",i=0;i<e.length;i++)nomeSubArea=subArea[i][0],idSubArea=subArea[i][1],str+='<option id="'+idSubArea+'">'+nomeSubArea+"</option>";$("select#areaGeralPrincipal").html(str)}},error:function(){var e=data;$(".alert").html(e)}})}function l(i,t,r){{var o=($("#pageSection"),$("#pageSearch")),n=$("#pageIndex"),l=$("#uaPreview"),d=$("#pageSection .listUas");$("#pageSection #title")}if(pageSectionAreaForamacao=$("select#areaFormacao"),pageSectionAreaGeralPrincipal=$("select#areaGeralPrincipal"),pageSectionAreaGeralPrincipal.hide(),iLevel1=C[i],e(),n.fadeOut(timeFadeOut),o.fadeOut(timeFadeOut),l.fadeOut(timeFadeOut),d.html(""),$(".holder").html(""),null!=r)pageSectionAreaGeralPrincipal.show(),$("select#areaGeralPrincipal option[id="+r+"]").attr("class","selected"),c(d,i,t,r,0,0,"y"),a();else if(null!=t){for(pageSectionAreaGeralPrincipal.show(),s(i,t),str='<option id="default">Area de Formação</option>',j=0;j<areasGerais[iLevel1][2].length;j++)nomeAreaFormacao=areasGerais[iLevel1][2][j][0],idAreaFormacao=areasGerais[iLevel1][2][j][1],str+="<option id='"+idAreaFormacao+"'>"+nomeAreaFormacao+"</option>";$("select#areaFormacao").html(str),$("select#areaFormacao option[id="+t+"]").attr("class","selected"),$("select#areaFormacao option[id="+t+"]").prop("selected",!0),c(d,i,t,0,0,0,"y"),a()}else if(""!=i){for(str="<option>Area de Formação</option>",j=0;j<areasGerais[iLevel1][2].length;j++)nomeAreaFormacao=areasGerais[iLevel1][2][j][0],idAreaFormacao=areasGerais[iLevel1][2][j][1],str+="<option id='"+idAreaFormacao+"'>"+nomeAreaFormacao+"</option>";$("select#areaFormacao").html(str),c(d,i,0,0,0,22,"y"),$("select#areaGeral .selected").removeClass("selected"),$("select#areaGeral option[id="+i+"]").attr("class","selected"),$("select#areaGeral option[id="+i+"]").prop("selected",!0),a()}}function d(e,a,i,t,r,o){var n=21,s="";r>0&&(s+="<a class='ant' href='#'>&lt;</a>"),o>0&&(s+="<a class='prox' href='#'>&gt;</a>"),$(".holder").html(s),$(".holder .ant").click(function(){ninicial=r-n,nfinal=r+1,c(e,a,i,t,ninicial,nfinal,"y")}),$(".holder .prox").click(function(){ninicial=r+n,nfinal=r+2*n+1,c(e,a,i,t,ninicial,nfinal,"y")})}function c(e,a,t,r,o,n,s){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=getUAs&idAreaGeral="+a+"&idAreaFormacao="+t+"&idSubArea="+r+"&inicial="+o+"&final="+n,type:"GET",data:"",dataType:"json",success:function(n){if(str="",null!=n.erro)alert("Erro: "+n.erro.codigo+": "+n.erro.mensagem);else{for(n.length>21?(prox=1,ult=21):(prox=0,ult=n.length),i=0;i<ult;i++)id=n[i][1],H[id]={},H[id].nome=n[i][0],H[id].estrelas=n[i][2],H[id].areaFormacaoStr=n[i][3],H[id].subArea=n[i][4],H[id].areaGeralPrincipal=n[i][5],H[id].url=n[i][6],null===H[id].areaFormacaoStr&&(H[id].areaFormacaoStr="Não cadastrada"),str+="<article class='ua'>",str+="<div class='icon' id='addUa-target'>",str+="<img src='"+E(H[id].subArea)+"' class='area' id='"+H[id].idAreaPrincipal+"' alt='Area Principal'>",str+="<img src='images/icons/plus.png' class='add' id='"+id+"' alt='Adicionar'></div>",str+="<div class='info'><h1 id='ua_"+id+"'>"+H[id].nome.trimToLength(titleMaxChar)+"</h1>",str+="<span>"+H[id].areaFormacaoStr.trimToLength(areaMaxChar)+"</span></div></article>";$(e).html(str),"y"===s&&d(e,a,t,r,o,prox),$(".ua .add").click(function(){idUa=$(this).attr("id"),I("addUa",idUa)}),$(".info h1").click(function(){v($(this).attr("id"))})}},error:function(){alert("Erro de HTTP/parsing")}})}function m(e,a){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=adicionarUaNaDisciplina&idDisciplina="+e+"&idUA="+a,type:"GET",data:"",dataType:"json",success:function(e){str="",null!=e.erro?alert("Erro: "+e.erro.codigo+": "+e.erro.mensagem):0!=e?I("confirm",1):I("confirm",6)},error:function(){alert("Erro de HTTP/parsing")}})}function u(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function p(e){for(var a=O.length;a--;)if(e.keyCode===O[a])return void u(e)}function h(e){u(e)}function f(){window.addEventListener&&window.addEventListener("DOMMouseScroll",h,!1),window.onmousewheel=document.onmousewheel=h,document.onkeydown=p,$("body").css("overflow","hidden")}function g(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",h,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null,$("body").css("overflow","auto")}function v(i){var t=$("html, body");i=i.substr(3),e(),t.scrollTop(0),D(i),$("#uaPreview").css("visibility","visible"),$("#uaPreview #titulo h2").html(H[i].nome),$("#uaPreview #titulo .btn-add").attr("id",i),$("nav").slideUp(timeSlideUp),$("#uaPreview #titulo").slideDown(timeSlideDown),$("#frame").attr("src",H[i].url),f(),$("#frame").on("load",function(){var e=$(window).height();$("#frame").css("height",e-64+"px"),$("#frame").css("marginTop","64px"),$("#uaPreview #conteudo").fadeIn(timeFadeIn),$("#uaPreview").fadeIn(timeFadeIn),a()}),$("#uaPreview .btn-add").click(function(){I("addUa",i)})}function y(){e(),$("#frame").attr("src",""),$("#uaPreview #titulo h2").html(""),$("#uaPreview #titulo").slideUp(timeSlideUp),$("#uaPreview #conteudo").fadeOut(timeFadeOut),$("#uaPreview").css("visibility","hidden"),$("nav").slideDown(timeSlideDown),a()}function w(){function e(){$("#slider ul").animate({left:+t},400,function(){$("#slider ul li:last-child").prependTo("#slider ul"),$("#slider ul").css("left","")})}function a(){$("#slider ul").animate({left:-t},420,function(){$("#slider ul li:first-child").appendTo("#slider ul"),$("#slider ul").css("left","")})}var i=$("#slider ul li").length,t=$("#slider ul li").width(),r=$("#slider ul li").height(),o=i*t;$("#slider").css({width:t,height:r}),$("#slider ul").css({width:o,marginLeft:-t}),$("#slider ul li:last-child").prependTo("#slider ul"),$("a.control_prev").click(function(){e()}),$("a.control_next").click(function(){a()}),setInterval(function(){a()},timeSlider)}function b(e){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=pesquisa&termos="+encodeURIComponent(e),type:"GET",data:"",dataType:"json",success:function(a){if(str="",null!=a.erro)alert("Erro: "+a.erro.codigo+": "+a.erro.mensagem);else{for(subAreas=a[0],uasPesq=a[1],i=0;i<uasPesq.length;i++)id=uasPesq[i][1],H[id]=[],H[id].nome=uasPesq[i][0],H[id].estrelas=uasPesq[i][2],H[id].areaFormacaoStr=uasPesq[i][3],H[id].subArea=uasPesq[i][4],H[id].areaGeralPrincipal=uasPesq[i][5],H[id].url=uasPesq[i][6],str+="<article class='ua'><div class='icon'><img src='images/icons/area01.png' class='area' alt='Area'><img src='images/icons/plus.png' class='add' id='"+id+"' alt='Adicionar'></div><div class='info'><h1 id='ua_"+id+"'>"+H[id].nome.trimToLength(titleMaxChar)+"</h1><span>"+H[id].areaFormacaoStr+"</span></div></article>";$(".holder").html(""),$("#pageSearch .listUas").html(str),$("#menu").fadeIn(),$("#searchInput").animate({width:0}),$(".ua .add").click(function(){idUa=$(this).attr("id"),I("addUa",idUa)}),$(".info h1").click(function(){v($(this).attr("id"))}),$("#pageIndex, #pageSection").fadeOut(timeFadeOut),$.when($("#pageIndex").fadeOut(timeFadeOut)).done(function(){$("#pageSearch").fadeIn(timeFadeIn),$("#pageSearch #title").html("Pesquisando "+e+"...")})}},error:function(){alert("Erro de HTTP/parsing")}})}function D(e){$("#uaPreview .estrelas").html(""),e=e,numEstrelas=H[e].estrelas;for(var a=0;a<numEstrelas;)$("#uaPreview .estrelas").append('<img src="images/icons/starb.png" width="24" alt="estrela">'),a++;for(;numEstrelas<5;)$("#uaPreview .estrelas").append('<img src="images/icons/star.png" width="24" alt="estrela">'),numEstrelas++}function A(){$("#myDps").slideToggle(300)}function G(){$("#myDps").slideUp(timeSlideUp)}function T(){$("#myDps #content").slideToggle(300)}function x(){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=loadHome",type:"GET",data:"",dataType:"json",success:function(e){if(strH="",str="",null!=e.erro)alert("Erro: "+e.erro.codigo+": "+e.erro.mensagem);else{for(disciplinas=e[1],n=0,i=0;i<disciplinas.length;i++){var a=disciplinas[i][0],t=disciplinas[i][1],r=Math.round(disciplinas[i][2]/2),o=disciplinas[i][3],s=disciplinas[i][4],l="";for(j=0;j<s.length;j++){var d=s[j][0],c=s[j][1];l+='<li id="'+c+'">',l+='<span class="name"> - '+d.trimToLength(titleMaxChar)+'</span><span class="delete" id="'+t+'">x</span></li>'}var m=j;"X"!=o?(str+='<li id="'+t+'">',str+='    <img src="images/icons/arrow.svg" width="12" class="rotate" alt="Rotacionar">',str+='    <span class="name">'+a+"</span>",str+='    <span class="edit" id="'+t+'">editar</span>',str+='    <span class="count" id="count-target"><b>('+j+" / "+r+")</b></span><br>",str+='    <ul id="uaDp">'+l,n++,str+=m!=r?"":'<button id="sendDp" data-id="'+i+'">Enviar Disciplina</button>',str+="</ul></li>"):strH+='<span data-id="'+t+'">'+a+"</span>, "}$("#myDps #content #dps").html(str+'<br><small id="history-btn">Histórico</small><div id="history">'+strH+"</div>"),$("#myDps-open span").html(n),$("#history").hide(),$("#history-btn").on("click",function(){$("#history").slideToggle(timeSlideToggle)}),$("#myDps #dps #uaDp").hide(),$("#myDps #content ul li .name").click(function(){$(this).next().next().next().next().is(":visible")?($(this).prev().css({transform:"rotate(0deg)"}),$(this).next().next().next().next().slideUp(timeSlideUp)):($(this).prev().css({transform:"rotate(90deg)"}),$(this).next().next().next().next().slideDown(timeSlideDown))}),$("#myDps #content .edit").click(function(){dpId=$(this).attr("id"),i=$(this).parent("li").index(),I("editDp",dpId,i)}),$("#myDps #uaDp li .name").click(function(){uaId=$(this).parent().attr("id"),v(uaId),$("#myDps").slideUp(timeSlideUp)}),$("#myDps #uaDp li .delete").click(function(){t=$(this).attr("id"),c=$(this).parent().attr("id"),I("removeUa",c,t)})}},error:function(){alert("Erro de HTTP/parsing")}})}function F(i,t){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=novaDisciplina&nome="+i+"&horas="+t,type:"GET",data:"",dataType:"json",success:function(i){str="",null!=i.erro?alert("Erro: "+i.erro.codigo+": "+i.erro.mensagem):(e(),I("confirm",2),a())},error:function(){alert("Erro de HTTP/parsing")}})}function P(i,t,r){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=alterarDisciplina&id="+i+"&nome="+t+"&horas="+r,type:"GET",data:"",dataType:"json",success:function(i){str="",null!=i.erro?alert("Erro: "+i.erro.codigo+": "+i.erro.mensagem):(e(),I("confirm",3),a())},error:function(){alert("Erro de HTTP/parsing")}})}function S(i){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=enviarDisciplina&id="+i,type:"GET",data:"",dataType:"json",success:function(i){str="",null!=i.erro?alert("Erro: "+i.erro.codigo+": "+i.erro.mensagem):(e(),I("confirm",5),a())},error:function(){alert("Erro de HTTP/parsing")}})}function k(i,t){$.ajax({url:"/sagahcm/serv_ecommerce.php?method=removerUaDaDisciplina&idDisciplina="+i+"&idUA="+t,type:"GET",data:"",dataType:"json",success:function(i){str="",null!=i.erro?alert("Erro: "+i.erro.codigo+": "+i.erro.mensagem):(e(),I("confirm",4),a())},error:function(){alert("Erro de HTTP/parsing")}})}function E(e){return icon="Ciências Biológicas e da Saúde"===e?"01":"Ciências Humanas e Sociais"===e?"02":"Conhecimentos Biotecnológicos"===e?"03":"Ciências Exatas"===e?"04":"Farmácia"===e?"05":"Conhecimentos Fisioterapêuticos"===e?"06":"Ciências da Enfermagem"===e?"07":"Conteúdos Básicos"===e?"08":"Conteúdos Específicos"===e?"09":"Conteúdos Profissionalizantes"===e?"10":"00",icon="images/icons/area"+icon+".png"}function U(){$("#modal").hide()}function I(i,t,o){var n=$("#modal"),s=($("#modal #header #close"),$(document).height()),l="",d="Cancelar",c='<button class="confirm">'+l+'</button><button class="cancel">'+d+"</button>";if(n.css("height",s),n.fadeIn(timeFadeIn),$("#modal #footer").html(c),$("#modal #header .close").click(function(){n.fadeOut(timeFadeOut),$.when($("#modal").fadeOut(timeFadeOut)).done(function(){$("#modal #footer").html("")})}),"addUa"==i){$("#modal #header h1").html("Adicionar UA"),$("#modal #body .message").html("<b>"+H[t].nome+"</b> à disciplina:"),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Adicionar"),$("#modal #body .message").append("<select id='dps'>");var u="";for(o=0;o<disciplinas.length;o++){var p=disciplinas[o][0],h=disciplinas[o][1],f=Math.round(disciplinas[o][2]/2),g=disciplinas[o][3],v=disciplinas[o][4];for(j=0;j<v.length;j++);var w=j;"A"===g&&f>w&&(u+='<option id="'+h+'">'+p+"</option>")}""!=u?($("#modal #body .message").find("#dps").append(u),$("#modal #body .message").append("</select>")):(u='<option>Nenhuma Disciplina</option><option id="cad_dp">Cadastrar Disciplina</option>',$("#modal #body .message").find("#dps").append(u),$("#modal #body .message").append("</select>")),$("#modal #dps").change(function(){"Cadastrar Disciplina"==$("#modal #dps").val()&&(U(),I("newDp"))}),$("#modal #footer .confirm").click(function(){var i=$("select#dps option:selected").attr("id");e(),m(i,t),a(),$("#modal #footer").html("")})}"removeUa"==i&&($("#modal #header h1").html("Remover UA"),$("#modal #body .message").html("<br>Você gostaria de remover?"),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Remover"),$("#modal #footer .confirm").click(function(){k(o,t)})),"newDp"==i&&($("#modal #header h1").html("Nova Disciplina"),$("#modal #body .message").html('<input type="text" id="dpName" placeholder="Nome da Disciplina"><br><input type="text" id="dpHours" class="only-numbers" placeholder="Carga Horária"><div class="errmsg"></div>'),$(".errmsg").hide(),$(".only-numbers").keypress(function(e){return 8!=e.which&&0!=e.which&&(e.which<48||e.which>57)?($(this).next(".errmsg").html("Apenas números.").show().delay(400).fadeOut("slow"),!1):void 0}),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Criar"),$("#modal #footer .confirm").click(function(){var i=$("#dpName").val(),t=$("#dpHours").val();e(),F(i,t),a()})),"editDp"==i&&($("#modal #header h1").html("Editar Disciplina"),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Editar"),$("#modal #footer").append('<div id="'+t+'"></div>'),$("#modal #body .message").html('<input type="text" id="dpName" value="'+disciplinas[o][0]+'"><br><input type="text" id="dpHours" class="only-numbers" value="'+disciplinas[o][2]+'"><div class="errmsg"></div>'),$(".only-numbers").keypress(function(e){return 8!=e.which&&0!=e.which&&(e.which<48||e.which>57)?($(this).next(".errmsg").html("Apenas números.").show().delay(400).fadeOut("slow"),!1):void 0}),$("#modal #body .message #dpName").css("color","#000"),$("#modal #body .message #dpHours").css("color","#000"),$("#modal #footer .confirm").click(function(){dpName=$("#modal #body #dpName").val(),dpHours=$("#modal #body #dpHours").val(),h=$(this).next().next().attr("id"),P(h,dpName,dpHours)})),"sendDp"==i&&($("#modal #header h1").html("Enviar Disciplina"),$("#modal #body .message").html("Você realmente gostaria de enviar a disciplina <b>"+disciplinas[t][0]+" </b>?"),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Confirmar"),$("#modal #footer .cancel").html("Cancelar"),$("#modal #footer .confirm").click(function(){e(),S(disciplinas[t][1]),a()})),"confirm"==i&&($("#modal #header h1").html("Confirmação"),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Ok"),$("#modal #footer .confirm").click(function(){$("#modal").fadeOut(timeFadeOut),y(),$.when($("#modal").fadeOut(timeFadeOut)).done(function(){$("#modal #footer").html("")})}),1==t&&($("#modal #body .message").html("<br>UA adicionada com sucesso!"),x()),2==t&&($("#modal #body .message").html("<br>Disciplina criada com sucesso!"),x()),3==t&&($("#modal #body .message").html("<br>Disciplina editada com sucesso!"),x()),4==t&&($("#modal #body .message").html("<br>UA removida com sucesso!"),x()),5==t&&($("#modal #body .message").html("<br>Disciplina enviada com sucesso!"),x()),6==t&&($("#modal #header h1").html("Erro"),$("#modal #body .message").html("<br>UA já cadastrada na Disciplina!"))),"logout"==i&&($("#modal #header h1").html("Logout"),$("#modal #body .message").html("Você realmente gostaria de sair?"),$("#modal #footer").html(c),$("#modal #footer .confirm").html("Sair"),$("#modal #footer .cancel").html("Fechar"),$("#modal #footer .confirm").click(function(){r()})),$("#modal #footer .cancel").click(function(){n.fadeOut(timeFadeOut),$.when($("#modal").fadeOut(timeFadeOut)).done(function(){$("#modal #footer").html("")})})}$("#uaPreview").hide(),$("#pageSection").hide(),$("#pageSearch").hide(),$("#loading").hide(),t(),$("#logout").click(function(e){e.preventDefault(),I("logout")});var C=[];$("select#areaGeral").change(function(){idAreaGeral=$(this).children(":selected").attr("id"),l(idAreaGeral)}),$("select#areaFormacao").change(function(){idAreaFormacao=$(this).children(":selected").attr("id"),idAreaGeral=$("#areaGeral option:selected").attr("id"),"default"===idAreaFormacao?($("select#areaGeralPrincipal").hide(),l(idAreaGeral)):l(idAreaGeral,idAreaFormacao)}),$("select#areaGeralPrincipal").change(function(){idAreaGeralPrincipal=$(this).children(":selected").attr("id"),idAreaFormacao=$("#areaFormacao .selected").attr("id"),idAreaGeral=$("#areaGeral .selected").attr("id"),l(idAreaGeral,idAreaFormacao,idAreaGeralPrincipal)}),String.prototype.trimToLength=function(e){return this.length>e?jQuery.trim(this).substring(0,e).split(" ").slice(0,-1).join(" ")+"...":this},$(".unidades .uasHidden").hide(),$(document).on("click",".unidades button",function(){$(this).html("Ver menos"==$(this).html()?"Ver mais":"Ver menos"),$(this).prev(".uasHidden").is(":visible")?$(this).prev(".uasHidden").hide(200):$(this).prev(".uasHidden").show(200)});var O=[37,38,39,40];$("#uaPreview .close").click(function(){g(),y()}),$("#myDps-open").hover(function(){nUas=$("#myDps-open span").html(),$("#myDps-open span").html("Minhas Disciplinas")},function(){$("#myDps-open span").html(nUas)}),$("#search img").click(function(){var e=$("#searchInput").width();0==e?($("#menu").fadeOut(200),$("#searchInput").animate({width:420})):($("#menu").fadeIn(),$("#searchInput").animate({width:0}))}),$("#searchInput").on("focus",function(e){e.preventDefault(),$(this).val("")}),$("#searchInput").focusout(function(e){e.preventDefault();var a=$(this).val(),i="DIGITE AQUI A SUA BUSCA";""==a?$(this).val(i):($(this).val(a),b(a))}),$(function(){var e;$("#searchInput").keyup(function(){clearTimeout(e);var a=500,i=this.value;e=setTimeout(function(){b(i)},a)})});var H={};$("#myDps").hide(),$("#myDps-open").click(function(){A()}),$("#myDps-close").click(function(){G()}),$("#myDps-expand").click(function(){T()}),$(document).on("click","#sendDp",function(){var e=$(this).data("id");I("sendDp",e)}),$("#myDps #newDp").click(function(){I("newDp")}),$("#modal").hide(),$(".drags").hover(function(){$("#myDps").drags()}),$.fn.drags=function(e){if(e=$.extend({handle:""},e),""===e.handle)var a=this;else var a=this.find(e.handle);return a.css("cursor",e.cursor).on("mousedown",function(a){if(""===e.handle)var i=$(this).addClass("draggable");else var i=$(this).addClass("active-handle").parent().addClass("draggable");var t=i.css("z-index"),r=i.outerHeight(),o=i.outerWidth(),n=i.offset().top+r-a.pageY,s=i.offset().left+o-a.pageX;i.css("z-index",1e3).parents().on("mousemove",function(e){$(".draggable").offset({top:e.pageY+n-r,left:e.pageX+s-o}).on("mouseup",function(){$(this).removeClass("draggable").css("z-index",t)})}),a.preventDefault()}).on("mouseup",function(){""===e.handle?$(this).removeClass("draggable"):$(this).removeClass("active-handle").parent().removeClass("draggable")})}});